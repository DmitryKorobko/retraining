p#notice
  = notice
h1
  | Books
table.table
  thead
    tr
      th[scope="col"]
        | #
      th[scope="col"]
        | Title
      th[scope="col"]
        | Author
      th[scope="col"]
        | Genre
      th[scope="col"]
        | Year
      th[scope="col"]
        | Quantity
      th.actions[scope="col" colspan="3"]
        | Actions
  tbody
    - @books.each_with_index do |book, index|
      tr
        td
          = index + 1
        td
          = link_to book.title, book
        td
          = link_to book.author.full_name, book.author
        td
          = book.genres.map {|bg| bg.name}.join(', ')
        td
          = book.year
        td
          = book.quantity
        td
          = link_to fa_icon('eye'), book
        td
          = link_to fa_icon('edit'), edit_book_path(book)
        td
          = link_to fa_icon('trash'), book, method: :delete, data: { confirm: 'Are you sure?' }

br
= link_to 'Create New Book', new_book_path, class:"btn btn-primary" if user_signed_in?
